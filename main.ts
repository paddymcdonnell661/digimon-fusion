namespace SpriteKind {
    export const coin = SpriteKind.create()
    export const flower = SpriteKind.create()
    export const fireball = SpriteKind.create()
}
scene.onOverlapTile(SpriteKind.Player, myTiles.tile2, function (sprite, location) {
    current_level += 1
    StartLevel()
})
function StartLevel () {
    info.setLife(5)
    if (current_level == 0) {
        tiles.setTilemap(tiles.createTilemap(hex`6400100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000070005000000060005000000000000000000000000000000000000000000000000000000000000000000000007000600000005000000000000000000000000000000000000000000000000000000000000000000000000000000080600000500060000040404040404040404040400000000000000000000000000000000000500070006000005000006000500000404040404040404040404040400000000000000000000000000000000000000000000000000050000000006000000030404040404040404000000000000000000000000000007000005000000060000000000040404040404040404040404040404040000000000000000000000000000000000050007000600000005000006000005000000000404040404040404040404040400000000000000000000000000000000000000000004040404040404040404040400000000000000000000000000000000000000000000000000000000000000000004040404040404040404040404040404040400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010102020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202`, img`
            ....................................................................................................
            ....................................................................................................
            ....................................................................................................
            ....................................................................................................
            ....................................................................................................
            ....................................................................................................
            ....................................................................................................
            ....................................................................................................
            ....................................................................................................
            ....................................................................................................
            .........22222222222................................2222222222222...................................
            22222222...........................2222222222222222....................................2222222222222
            .....................222222222222.................................222222222222222222................
            ....................................................................................................
            ....................................................................................................
            ....................................................................................................
            `, [myTiles.transparency16,sprites.dungeon.hazardWater,myTiles.tile3,myTiles.tile2,sprites.castle.tilePath2,sprites.castle.saplingOak,myTiles.tile4,myTiles.tile5,myTiles.tile6], TileScale.Sixteen))
        scene.setBackgroundImage(img`
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            `)
    } else if (current_level == 1) {
        tiles.setTilemap(tiles.createTilemap(hex`32001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000300010400000300040000000000000000000000000000000000000004010301040000000000000000000000000000000a090909090909090909090908000000000300000000000000000000000a09090909090800000005000004000300000000000000000000000000000000000000000000010004000100040300000000000000000000000300020a090909090909090800000000000000000000000000000000000a09090909090909090908000000000000000000000a0908000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006070607060706070607060706070607060706070607060706070607060706070607060706070607060706070607060706070706070607060706070607060706070607060706070607060706070607060706070607060706070607060706070607060706`, img`
            ..................................................
            ..................................................
            ..................................................
            ..................................................
            ..................................................
            ..................................................
            ..................................................
            ..................................................
            ..................................................
            ..................................................
            ...........2222222222222................2222222...
            ..................................................
            222222222.................22222222222..........222
            ..................................................
            ..................................................
            ..................................................
            `, [myTiles.transparency16,myTiles.tile1,myTiles.tile2,myTiles.tile4,myTiles.tile5,myTiles.tile6,sprites.dungeon.hazardLava0,sprites.dungeon.hazardLava1,sprites.builtin.forestTiles19,sprites.builtin.forestTiles18,sprites.builtin.forestTiles17], TileScale.Sixteen))
        scene.setBackgroundImage(img`
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            `)
    } else if (current_level == 2) {
        tiles.setTilemap(tiles.createTilemap(hex`100032000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000009000000000000000000000000000000000000000000000000000000000001010101000000000000000000000000020202020000000000000000000000000202020200000000000000000000000004040404000000000000000007000000000000000000090000000001010101000000000000000000000000020202020000000000080007000000000202020200000000000101010100000004040404000000000002020202000000000000000000000000020202020000000000000000000000000404040400000000000000000000000000000000000000070000000000000000000000000001010101000000000000000000000000020202020000000000000000000000000202020200000000000000000000000004040404000000080007000000000000000000000000000101010100000000000000000000000002020202000000000000000000000000020202020000000000000000000700000404040400030007000000010101010000000000000101010100000202020200000000000002020202000002020202000000000000020202020000040404040000000000000404040400000000000000000000000606060606060606060606060606060605050505050505050505050505050505`, img`
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ............2222
            ............2222
            ............2222
            ............2222
            ................
            .......2222.....
            .......2222.....
            .......2222.....
            2222...2222.....
            2222............
            2222............
            2222............
            ................
            .....2222.......
            .....2222.......
            .....2222.......
            .....2222.......
            ............2222
            ............2222
            ............2222
            ............2222
            .......2222.....
            .2222..2222.....
            .2222..2222.....
            .2222..2222.....
            .2222...........
            ................
            ................
            `, [myTiles.transparency16,sprites.castle.tilePath2,sprites.castle.tilePath5,myTiles.tile6,myTiles.tile7,myTiles.tile9,myTiles.tile10,myTiles.tile4,myTiles.tile5,myTiles.tile11], TileScale.Sixteen))
        scene.setBackgroundImage(img`
            ................................................................................................................................................................
            ................................................................................................................................................................
            .................................................................................................................................................1111111........
            .................................................................................................................................................1111111111.....
            ...............................................................................................................................................111111111111.....
            ...............................................................................................................................................11111111111111...
            ...............................................................................................................................................11111111111111...
            ............................................................................................................................................11111111111111111...
            ............................................................................................................................................11111111111111111...
            ............................................................................................................................................11111111111111111...
            ............................................................................................................................................1111111111111111....
            ............................................................................................................................................111111111111111.....
            ..............................................................................................................................................1111111111111.....
            ..............................................................................................................................................1111111111111.....
            ................................................................................................................................................1111111111......
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ...........................................................11111................................................................................................
            ........................................................11111111................................................................................................
            ........................................................11111111................................................................................................
            .......................................................1111111111...............................................................................................
            .......................................................1111111111...............................................................................................
            ......................................................11111111111...............................................................................................
            ......................................................11111111111...............................................................................................
            ......................................................11111111111...............................................................................................
            ......................................................1111111111................................................................................................
            ......................................................1111111111................................................................................................
            .......................................................11111....................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ........................11111...................................................................................................................................
            .....................1111111111.................................................................................................................................
            .....................11111111111................................................................................................................................
            .....................111111111111...............................................................................................................................
            ....................1111111111111...............................................................................................................................
            ....................1111111111111...............................................................................................................................
            ....................1111111111111...............................................................................................................................
            ........111111.....11111111111111...............................................................................................................................
            ......111111111....1111111111111................................................................................................................................
            ....11111111111....1111111111111................................................................................................................................
            ....111111111111...1111111111111................................................................................................................................
            ....111111111111...111111111111.................................................................................................................................
            ....1111111111111....1111111111.................................................................................................................................
            ..111111111111111....11111111...................................................................................................................................
            ..111111111111111......11111....................................................................................................................................
            ..111111111111111...............................................................................................................................................
            ..111111111111111...............................................................................................................................................
            ..11111111111111................................................................................................................................................
            ....1111111111..................................................................................................................................................
            ....11111111....................................................................................................................................................
            ......11111.....................................................................................................................................................
            ................................................................................................................................................................
            `)
    } else {
        game.over(true)
    }
    shoutmon.ay = 350
    scene.cameraFollowSprite(shoutmon)
    tiles.placeOnRandomTile(shoutmon, myTiles.tile6)
    for (let value of tiles.getTilesByType(myTiles.tile6)) {
        tiles.setTileAt(value, myTiles.transparency16)
    }
    for (let value of sprites.allOfKind(SpriteKind.Enemy)) {
        value.destroy()
    }
    for (let value of sprites.allOfKind(SpriteKind.coin)) {
        value.destroy()
    }
    for (let value of sprites.allOfKind(SpriteKind.flower)) {
        value.destroy()
    }
    for (let value of tiles.getTilesByType(myTiles.tile4)) {
        bit = sprites.create(img`
            . . b b b b . . 
            . b 5 5 5 5 b . 
            b 5 d 3 3 d 5 b 
            b 5 3 5 5 1 5 b 
            c 5 3 5 5 1 d c 
            c d d 1 1 d d c 
            . f d d d d f . 
            . . f f f f . . 
            `, SpriteKind.coin)
        animation.runImageAnimation(
        bit,
        [img`
            . . b b b b . . 
            . b 5 5 5 5 b . 
            b 5 d 3 3 d 5 b 
            b 5 3 5 5 1 5 b 
            c 5 3 5 5 1 d c 
            c d d 1 1 d d c 
            . f d d d d f . 
            . . f f f f . . 
            `,img`
            . . b b b . . . 
            . b 5 5 5 b . . 
            b 5 d 3 d 5 b . 
            b 5 3 5 1 5 b . 
            c 5 3 5 1 d c . 
            c 5 d 1 d d c . 
            . f d d d f . . 
            . . f f f . . . 
            `,img`
            . . . b b . . . 
            . . b 5 5 b . . 
            . b 5 d 1 5 b . 
            . b 5 3 1 5 b . 
            . c 5 3 1 d c . 
            . c 5 1 d d c . 
            . . f d d f . . 
            . . . f f . . . 
            `,img`
            . . . b b . . . 
            . . b 5 5 b . . 
            . . b 1 1 b . . 
            . . b 5 5 b . . 
            . . b d d b . . 
            . . c d d c . . 
            . . c 3 3 c . . 
            . . . f f . . . 
            `,img`
            . . . b b . . . 
            . . b 5 5 b . . 
            . b 5 1 d 5 b . 
            . b 5 1 3 5 b . 
            . c d 1 3 5 c . 
            . c d d 1 5 c . 
            . . f d d f . . 
            . . . f f . . . 
            `,img`
            . . . b b b . . 
            . . b 5 5 5 b . 
            . b 5 d 3 d 5 b 
            . b 5 1 5 3 5 b 
            . c d 1 5 3 5 c 
            . c d d 1 d 5 c 
            . . f d d d f . 
            . . . f f f . . 
            `],
        100,
        true
        )
        tiles.placeOnTile(bit, value)
        tiles.setTileAt(value, myTiles.transparency16)
    }
    for (let value of tiles.getTilesByType(myTiles.tile5)) {
        flower = sprites.create(img`
            . . c 3 c c c c c c c 3 c . . . 
            . . . c 3 3 3 3 3 3 3 c . . . . 
            . . . . c c c 7 c c c . . . . . 
            . . . . . . . 7 . . . . . . . . 
            . . . . . . . 7 . . . . . . . . 
            . . . . . . . . 7 . . . . . . . 
            . . . . . . . . 7 . . . . . . . 
            . . . . . . . . 7 . . . . . . . 
            . . . . . . . 7 . . . . . . . . 
            . . . . . . . 7 . . . . . . . . 
            . . . . . . . 7 . . . . . . . . 
            . . . . . . . 7 . . . . . . . . 
            . . . . . . . 7 . . . . . . . . 
            . . . . . . . 7 . . . . . . . . 
            . . . . . . . 7 . . . . . . . . 
            . . . . . . . 7 . . . . . . . . 
            `, SpriteKind.flower)
        tiles.placeOnTile(flower, value)
        tiles.setTileAt(value, myTiles.transparency16)
    }
    for (let value of tiles.getTilesByType(myTiles.tile11)) {
        fireball = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . 2 2 2 2 2 . . . . . 
            . . . 2 2 2 2 . . . 2 2 2 2 . . 
            . . 2 2 . . 4 4 . . . . . 2 . . 
            . 2 2 4 4 4 . 4 4 4 4 4 . 2 . . 
            . 2 . 4 4 . 5 5 5 . . 4 . . 2 . 
            . 2 . . 4 5 5 . 5 5 . 4 4 . 2 . 
            2 2 . 4 . 5 . 8 8 5 . . 4 . 2 2 
            2 . . 4 5 5 . 8 5 5 . . 4 . . 2 
            2 2 . 4 5 5 5 5 5 5 . 4 . . 2 2 
            . 2 . 4 4 . . . 5 . . 4 . . 2 . 
            . 2 2 . 4 . . 5 5 . 4 4 . 2 2 . 
            . . 2 . 4 4 4 4 4 4 4 . . 2 . . 
            . . 2 2 2 . 2 2 . . . . 2 . . . 
            . . . . 2 2 . 2 2 2 2 2 . . . . 
            . . . . . . . . . . . . . . . . 
            `, SpriteKind.fireball)
        tiles.placeOnTile(fireball, value)
        tiles.setTileAt(value, myTiles.transparency16)
        animation.runMovementAnimation(
        fireball,
        "c 0 -100 0 100 0 0",
        2000,
        true
        )
        fireball.startEffect(effects.fire)
    }
}
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (shoutmon.vy == 0) {
        shoutmon.vy = -150
    }
})
scene.onOverlapTile(SpriteKind.Player, sprites.dungeon.hazardLava0, function (sprite, location) {
    game.over(false, effects.melt)
})
scene.onOverlapTile(SpriteKind.Player, myTiles.tile9, function (sprite, location) {
    game.over(false, effects.clouds)
})
scene.onOverlapTile(SpriteKind.Player, sprites.dungeon.hazardLava1, function (sprite, location) {
    game.over(false, effects.melt)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.coin, function (sprite, otherSprite) {
    info.changeScoreBy(1)
    otherSprite.destroy()
})
scene.onOverlapTile(SpriteKind.Player, sprites.dungeon.hazardWater, function (sprite, location) {
    game.over(false, effects.bubbles)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.flower, function (sprite, otherSprite) {
    myEnemy = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.Enemy)
    animation.runImageAnimation(
    myEnemy,
    [img`
        . . f f f . . . . . . . . f f f 
        . f f c c . . . . . . f c b b c 
        f f c c . . . . . . f c b b c . 
        f c f c . . . . . . f b c c c . 
        f f f c c . c c . f c b b c c . 
        f f c 3 c c 3 c c f b c b b c . 
        f f b 3 b c 3 b c f b c c b c . 
        . c b b b b b b c b b c c c . . 
        . c 1 b b b 1 b b c c c c . . . 
        c b b b b b b b b b c c . . . . 
        c b c b b b c b b b b f . . . . 
        f b 1 f f f 1 b b b b f c . . . 
        f b b b b b b b b b b f c c . . 
        . f b b b b b b b b c f . . . . 
        . . f b b b b b b c f . . . . . 
        . . . f f f f f f f . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . c c . . c c . . . . . . . . 
        . . c 3 c c 3 c c c . . . . . . 
        . c b 3 b c 3 b c c c . . . . . 
        . c b b b b b b b b f f . . . . 
        c c b b b b b b b b f f . . . . 
        c b 1 b b b 1 b b c f f f . . . 
        c b b b b b b b b f f f f . . . 
        f b c b b b c b c c b b b . . . 
        f b 1 f f f 1 b f c c c c . . . 
        . f b b b b b b f b b c c . . . 
        c c f b b b b b c c b b c . . . 
        c c c f f f f f f c c b b c . . 
        . c c c . . . . . . c c c c c . 
        . . c c c . . . . . . . c c c c 
        . . . . . . . . . . . . . . . . 
        `],
    100,
    true
    )
    myEnemy.setPosition(shoutmon.x + 80, shoutmon.x - 80)
    myEnemy.follow(shoutmon, 90)
    otherSprite.destroy()
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.fireball, function (sprite, otherSprite) {
    info.changeLifeBy(-2)
    otherSprite.destroy()
})
scene.onOverlapTile(SpriteKind.Player, myTiles.tile10, function (sprite, location) {
    game.over(false, effects.clouds)
})
scene.onOverlapTile(SpriteKind.Player, myTiles.tile1, function (sprite, location) {
    game.over(false)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function (sprite, otherSprite) {
    let agumon: Sprite = null
    otherSprite.destroy()
    if (agumon.x < myEnemy.y) {
        info.changeScoreBy(3)
    } else {
        info.changeLifeBy(-1)
    }
})
let myEnemy: Sprite = null
let fireball: Sprite = null
let flower: Sprite = null
let bit: Sprite = null
let current_level = 0
let shoutmon: Sprite = null
shoutmon = sprites.create(img`
    . . . . . . . . f f . . . f f f 
    . . . . . . f f f f f f f 2 2 f 
    . . . . f f f f f f 2 2 2 2 f . 
    . . f f f f f f 2 2 2 2 2 f . . 
    . . f 2 2 2 2 2 2 2 2 2 f f f f 
    f . . f 2 2 2 f 2 2 2 f f f 2 f 
    f f f 2 2 2 f f 2 2 2 f f f f . 
    f 2 2 2 2 f f 2 2 2 f 7 7 7 f f 
    . f 2 2 2 2 2 2 2 2 f 7 7 7 f f 
    . . f f f f f 2 2 2 2 f f f . . 
    . . . . f f f f f f f f . . . . 
    . . . f 1 f 1 1 1 f f 2 f . f . 
    . . . f f f f f f f 2 2 f f f . 
    . . . f f 1 1 1 1 f f f f 2 f . 
    . . f 1 1 f f f f 1 1 1 f f . . 
    . . f f f f . . f f f f f . . . 
    `, SpriteKind.Player)
controller.moveSprite(shoutmon, 100, 0)
scene.setBackgroundColor(9)
current_level = 2
StartLevel()
game.onUpdate(function () {
    shoutmon.setImage(img`
        . . . . . . . . f f . . . f f f 
        . . . . . . f f f f f f f 2 2 f 
        . . . . f f f f f f 2 2 2 2 f . 
        . . f f f f f f 2 2 2 2 2 f . . 
        . . f 2 2 2 2 2 2 2 2 2 f f f f 
        f . . f 2 2 2 f 2 2 2 f f f 2 f 
        f f f 2 2 2 f f 2 2 2 f f f f . 
        f 2 2 2 2 f f 2 2 2 f 7 7 7 f f 
        . f 2 2 2 2 2 2 2 2 f 7 7 7 f f 
        . . f f f f f 2 2 2 2 f f f . . 
        . . . . f f f f f f f f . . . . 
        . . . f 1 f 1 1 1 f f 2 f . f . 
        . . . f f f f f f f 2 2 f f f . 
        . . . f f 1 1 1 1 f f f f 2 f . 
        . . f 1 1 f f f f 1 1 1 f f . . 
        . . f f f f . . f f f f f . . . 
        `)
    shoutmon.image.flipX()
    if (shoutmon.vx < 0) {
        shoutmon.image.flipX()
    }
    if ((shoutmon.isHittingTile(CollisionDirection.Left) || shoutmon.isHittingTile(CollisionDirection.Right)) && shoutmon.vy > 0) {
        shoutmon.vy = 0
        shoutmon.ay = 0
    } else {
        shoutmon.ay = 350
    }
})
